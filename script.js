// External JS: https://cdn.tailwindcss.com

// External JS: https://www.googletagmanager.com/gtag/js?id=G-M3YFTVKRKT

// Inline JavaScript
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Berry Mod Apeka",
    "url": "https://berrymodapeka.edgeone.app/",
    "description": "Platform download mod apk aman tanpa virus. Update aplikasi dan game mod terbaru 2025.",
    "publisher": {
      "@type": "Organization",
      "name": "Berry V4",
      "logo": "https://i.supaimg.com/a9f49664-44d7-437d-81a0-624515c3a777.png"
    }
  }

// Inline JavaScript
if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then(() => console.log('Service Worker aktif - Berry Mod Apeka'))
        .catch(err => console.warn('Service Worker gagal:', err));
    }

// Inline JavaScript
// === DPMods Fireworks Overlay v3 (Mobile-Speed Optimized) ===
(function () {
  const canvas = document.getElementById("dpmods-fireworks");
  const ctx = canvas.getContext("2d");
  let w, h, fireworks = [], particles = [];

  // Detect mobile or small screen
  const isMobile = window.innerWidth < 768 || window.innerHeight > window.innerWidth;
  const speedFactor = isMobile ? 0.55 : 1.0; // ðŸ¢ slower on mobile portrait

  function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resize);
  resize();

  function random(min, max) {
    return Math.random() * (max - min) + min;
  }

  class Rocket {
    constructor() {
      this.x = random(w * 0.2, w * 0.8);
      this.y = h + 20;
      this.targetY = random(h * 0.3, h * 0.6);
      this.speed = random(7, 12) * speedFactor;
      this.color = `hsl(${random(0, 360)}, 100%, 60%)`;
      this.trail = [];
      this.exploded = false;
    }

    update() {
      this.trail.push({ x: this.x, y: this.y });
      if (this.trail.length > 8) this.trail.shift();

      this.y -= this.speed;
      if (this.y <= this.targetY && !this.exploded) {
        this.explode();
        this.exploded = true;
      }
    }

    explode() {
      const count = 60;
      for (let i = 0; i < count; i++) {
        particles.push(new Particle(this.x, this.y, this.color));
      }
    }

    draw() {
      ctx.beginPath();
      for (let i = 0; i < this.trail.length - 1; i++) {
        const p1 = this.trail[i];
        const p2 = this.trail[i + 1];
        ctx.strokeStyle = this.color;
        ctx.lineWidth = 2;
        ctx.moveTo(p1.x, p1.y);
        ctx.lineTo(p2.x, p2.y);
      }
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
      ctx.fillStyle = "#fff";
      ctx.shadowBlur = 10;
      ctx.shadowColor = this.color;
      ctx.fill();
    }
  }

  class Particle {
    constructor(x, y, color) {
      this.x = x;
      this.y = y;
      this.color = color;
      this.radius = random(1, 3);
      this.angle = random(0, Math.PI * 2);
      this.speed = random(2, 5) * speedFactor;
      this.alpha = 1;
      this.decay = random(0.015, 0.03);
      this.gravity = 0.05 * speedFactor;
    }

    update() {
      this.x += Math.cos(this.angle) * this.speed;
      this.y += Math.sin(this.angle) * this.speed + this.gravity;
      this.alpha -= this.decay;
    }

    draw() {
      ctx.save();
      ctx.globalAlpha = this.alpha;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
      ctx.fillStyle = this.color;
      ctx.shadowBlur = 12;
      ctx.shadowColor = this.color;
      ctx.fill();
      ctx.restore();
    }
  }

  function animate() {
    requestAnimationFrame(animate);
    ctx.clearRect(0, 0, w, h); // Transparent BG, no flicker

    // Launch rockets at random intervals
    if (Math.random() < 0.03) fireworks.push(new Rocket());

    fireworks = fireworks.filter(f => {
      f.update();
      f.draw();
      return !f.exploded;
    });

    particles = particles.filter(p => {
      p.update();
      p.draw();
      return p.alpha > 0;
    });
  }

  animate();
})();

// Inline JavaScript
document.write(unescape('%3C%61%73%69%64%65%20%69%64%3D%22%73%69%64%65%62%61%72%22%20%63%6C%61%73%73%3D%22%66%69%78%65%64%20%74%6F%70%2D%30%20%6C%65%66%74%2D%30%20%77%2D%36%34%20%68%2D%66%75%6C%6C%20%73%69%64%65%62%61%72%20%74%72%61%6E%73%66%6F%72%6D%20%2D%74%72%61%6E%73%6C%61%74%65%2D%78%2D%66%75%6C%6C%20%7A%2D%33%30%20%73%68%61%64%6F%77%2D%78%6C%20%66%6C%65%78%20%66%6C%65%78%2D%63%6F%6C%22%3E%0A%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%66%6C%65%78%20%69%74%65%6D%73%2D%63%65%6E%74%65%72%20%6A%75%73%74%69%66%79%2D%62%65%74%77%65%65%6E%20%70%78%2D%34%20%70%79%2D%34%20%62%6F%72%64%65%72%2D%62%20%62%6F%72%64%65%72%2D%67%72%61%79%2D%37%30%30%22%3E%0A%20%20%20%20%20%20%3C%68%32%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%6C%67%20%66%6F%6E%74%2D%73%65%6D%69%62%6F%6C%64%22%3E%4D%65%6E%75%3C%2F%68%32%3E%0A%20%20%20%20%3C%2F%64%69%76%3E%0A%0A%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%70%78%2D%34%20%70%79%2D%32%22%3E%0A%20%20%20%20%20%20%3C%69%6E%70%75%74%0A%20%20%20%20%20%20%20%20%74%79%70%65%3D%22%74%65%78%74%22%0A%20%20%20%20%20%20%20%20%69%64%3D%22%73%65%61%72%63%68%49%6E%70%75%74%22%0A%20%20%20%20%20%20%20%20%70%6C%61%63%65%68%6F%6C%64%65%72%3D%22%43%61%72%69%20%61%70%6C%69%6B%61%73%69%2E%2E%2E%22%0A%20%20%20%20%20%20%20%20%63%6C%61%73%73%3D%22%77%2D%66%75%6C%6C%20%70%78%2D%33%20%70%79%2D%32%20%72%6F%75%6E%64%65%64%2D%6C%67%20%62%67%2D%67%72%61%79%2D%38%30%30%20%74%65%78%74%2D%77%68%69%74%65%20%74%65%78%74%2D%73%6D%20%66%6F%63%75%73%3A%6F%75%74%6C%69%6E%65%2D%6E%6F%6E%65%20%66%6F%63%75%73%3A%72%69%6E%67%2D%31%20%66%6F%63%75%73%3A%72%69%6E%67%2D%70%75%72%70%6C%65%2D%35%30%30%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2F%64%69%76%3E%0A%0A%20%20%20%20%3C%64%69%76%20%69%64%3D%22%76%69%70%50%61%6E%65%6C%22%20%63%6C%61%73%73%3D%22%70%78%2D%34%20%70%79%2D%32%20%62%6F%72%64%65%72%2D%74%20%62%6F%72%64%65%72%2D%67%72%61%79%2D%37%30%30%22%3E%0A%20%20%20%20%20%20%3C%70%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%78%73%20%74%65%78%74%2D%67%72%61%79%2D%34%30%30%20%6D%62%2D%31%22%3E%56%49%50%20%41%63%63%65%73%73%3C%2F%70%3E%0A%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%66%6C%65%78%20%69%74%65%6D%73%2D%63%65%6E%74%65%72%20%73%70%61%63%65%2D%78%2D%31%20%6D%69%6E%2D%77%2D%30%22%3E%0A%20%20%20%20%20%20%20%20%3C%69%6E%70%75%74%0A%20%20%20%20%20%20%20%20%20%20%74%79%70%65%3D%22%70%61%73%73%77%6F%72%64%22%0A%20%20%20%20%20%20%20%20%20%20%69%64%3D%22%76%69%70%50%61%73%73%77%6F%72%64%22%0A%20%20%20%20%20%20%20%20%20%20%70%6C%61%63%65%68%6F%6C%64%65%72%3D%22%4B%61%74%61%20%73%61%6E%64%69%22%0A%20%20%20%20%20%20%20%20%20%20%63%6C%61%73%73%3D%22%66%6C%65%78%2D%31%20%6D%69%6E%2D%77%2D%30%20%70%78%2D%32%20%70%79%2D%31%20%74%65%78%74%2D%73%6D%20%72%6F%75%6E%64%65%64%20%62%67%2D%67%72%61%79%2D%38%30%30%20%74%65%78%74%2D%77%68%69%74%65%20%66%6F%63%75%73%3A%6F%75%74%6C%69%6E%65%2D%6E%6F%6E%65%22%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%20%20%3C%62%75%74%74%6F%6E%20%69%64%3D%22%75%6E%6C%6F%63%6B%56%69%70%42%74%6E%22%20%63%6C%61%73%73%3D%22%70%78%2D%32%20%70%79%2D%31%20%62%67%2D%70%75%72%70%6C%65%2D%36%30%30%20%68%6F%76%65%72%3A%62%67%2D%70%75%72%70%6C%65%2D%37%30%30%20%72%6F%75%6E%64%65%64%20%74%65%78%74%2D%78%73%20%77%68%69%74%65%73%70%61%63%65%2D%6E%6F%77%72%61%70%20%66%6C%65%78%2D%73%68%72%69%6E%6B%2D%30%22%3E%0A%20%20%20%20%20%20%20%20%20%20%55%6E%6C%6F%63%6B%0A%20%20%20%20%20%20%20%20%3C%2F%62%75%74%74%6F%6E%3E%0A%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%3C%2F%64%69%76%3E%0A%0A%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%73%69%64%65%62%61%72%2D%63%6F%6E%74%65%6E%74%20%66%6C%65%78%2D%31%20%6F%76%65%72%66%6C%6F%77%2D%79%2D%61%75%74%6F%20%70%78%2D%34%20%70%79%2D%32%20%73%70%61%63%65%2D%79%2D%35%22%3E%0A%0A%20%20%20%20%20%20%3C%21%2D%2D%20%4D%41%49%4E%20%2D%2D%3E%0A%20%20%20%20%20%20%3C%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%78%73%20%74%65%78%74%2D%67%72%61%79%2D%34%30%30%20%75%70%70%65%72%63%61%73%65%20%74%72%61%63%6B%69%6E%67%2D%77%69%64%65%72%20%6D%62%2D%32%22%3E%4D%61%69%6E%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%6C%79%6E%6B%2E%69%64%2F%62%65%72%72%79%76%34%2F%7A%6A%77%7A%64%6E%35%7A%65%7A%39%70%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%75%73%65%72%73%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%4A%6F%69%6E%20%56%49%50%20%4D%65%6D%62%65%72%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%6C%79%6E%6B%2E%69%64%2F%62%65%72%72%79%64%65%76%34%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%6C%61%79%65%72%2D%67%72%6F%75%70%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%57%65%62%73%69%74%65%20%4D%6F%64%20%4D%69%6D%69%6E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%6C%79%6E%6B%2E%69%64%2F%62%65%72%72%79%76%34%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%61%72%74%2D%73%68%6F%70%70%69%6E%67%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%57%65%62%20%44%69%67%69%74%61%6C%20%50%72%6F%64%75%63%74%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%62%75%79%6C%69%6E%6B%2E%69%64%2F%62%65%72%72%79%73%74%6F%72%65%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%67%65%6D%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%57%65%62%20%53%74%6F%72%65%20%54%6F%70%20%55%70%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%6C%79%6E%6B%2E%69%64%2F%62%65%72%72%79%76%34%2F%70%61%67%65%2F%67%6F%6F%67%6C%65%2D%64%72%69%76%65%2D%66%69%6C%65%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%6F%64%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%47%65%74%20%53%6F%75%72%63%65%20%43%6F%64%65%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%20%6F%6E%63%6C%69%63%6B%3D%22%73%68%61%72%65%57%65%62%28%29%3B%20%72%65%74%75%72%6E%20%66%61%6C%73%65%3B%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%73%68%61%72%65%2D%61%6C%74%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%53%68%61%72%65%20%57%65%62%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%76%74%2E%74%69%6B%74%6F%6B%2E%63%6F%6D%2F%5A%53%55%53%68%51%65%70%42%2F%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%73%6F%6C%69%64%20%66%61%2D%71%75%65%73%74%69%6F%6E%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%43%61%72%61%20%4D%65%6C%65%77%61%74%69%20%4C%69%6E%6B%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%20%69%64%3D%22%73%70%6F%74%69%66%79%42%74%6E%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%62%20%66%61%2D%73%70%6F%74%69%66%79%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%50%6C%61%79%6C%69%73%74%20%53%70%6F%74%69%66%79%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%62%75%74%74%6F%6E%20%69%64%3D%22%74%68%65%6D%65%54%6F%67%67%6C%65%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%66%6C%65%78%20%69%74%65%6D%73%2D%63%65%6E%74%65%72%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%6D%6F%6F%6E%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%4D%6F%64%65%20%47%65%6C%61%70%0A%20%20%20%20%20%20%20%20%20%20%3C%2F%62%75%74%74%6F%6E%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%0A%20%20%20%20%20%20%3C%21%2D%2D%20%54%4F%4F%4C%53%20%2D%2D%3E%0A%20%20%20%20%20%20%3C%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%78%73%20%74%65%78%74%2D%67%72%61%79%2D%34%30%30%20%75%70%70%65%72%63%61%73%65%20%74%72%61%63%6B%69%6E%67%2D%77%69%64%65%72%20%6D%62%2D%32%22%3E%54%6F%6F%6C%73%3C%2F%64%69%76%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%72%65%71%75%65%73%74%61%64%6D%69%6E%2E%65%64%67%65%6F%6E%65%2E%61%70%70%2F%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%52%65%71%75%65%73%74%20%4D%6F%64%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%73%75%62%77%61%79%2D%6A%73%6F%6E%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%67%61%6D%65%70%61%64%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%53%75%62%77%61%79%73%75%72%66%20%43%68%65%61%74%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%73%61%6C%75%72%61%6E%2D%61%6E%61%6C%79%7A%65%72%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%73%6F%6C%69%64%20%66%61%2D%6D%61%67%6E%69%66%79%69%6E%67%2D%67%6C%61%73%73%2D%63%68%61%72%74%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%53%61%6C%75%72%61%6E%20%41%6E%61%6C%79%7A%65%72%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%51%52%2D%47%65%6E%65%72%61%74%6F%72%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%71%72%63%6F%64%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%51%52%20%47%65%6E%65%72%61%74%6F%72%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%6D%65%6B%69%2D%6D%61%6B%65%72%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%77%69%74%68%2D%6E%65%77%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%72%65%67%75%6C%61%72%20%66%61%2D%69%6D%61%67%65%73%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%4D%65%6B%69%20%4D%61%6B%65%72%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%69%6F%73%6C%61%75%6E%63%68%65%72%62%65%72%72%79%2E%65%64%67%65%6F%6E%65%2E%61%70%70%2F%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%61%70%70%2D%73%74%6F%72%65%2D%69%6F%73%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%41%70%70%73%20%54%68%65%6D%65%20%50%72%65%6D%69%75%6D%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%69%71%63%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%61%70%70%6C%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%69%50%68%6F%6E%65%20%51%75%6F%74%65%20%47%65%6E%65%72%61%74%6F%72%20%56%34%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%66%61%6B%65%63%61%6C%6C%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%73%71%75%61%72%65%2D%77%68%61%74%73%61%70%70%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%46%61%6B%65%20%43%61%6C%6C%20%47%65%6E%65%72%61%74%6F%72%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%67%66%78%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%73%6F%6C%69%64%20%66%61%2D%63%75%62%65%73%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%47%46%58%20%54%65%73%74%65%72%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%62%72%61%74%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%73%6F%6C%69%64%20%66%61%2D%69%6E%64%65%6E%74%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%42%72%61%74%20%47%65%6E%65%72%61%74%6F%72%20%56%33%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%74%77%65%65%74%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%74%77%69%74%74%65%72%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%54%77%65%65%74%20%47%65%6E%65%72%61%74%6F%72%20%56%32%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%66%62%71%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%66%61%63%65%62%6F%6F%6B%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%46%61%63%65%62%6F%6F%6B%20%47%65%6E%65%72%61%74%6F%72%20%56%32%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%73%6E%61%70%62%65%72%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%6F%70%79%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%54%69%6B%54%6F%6B%20%43%6F%70%79%20%43%61%70%74%69%6F%6E%20%56%32%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%55%48%44%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%73%6F%6C%69%64%20%66%61%2D%69%6D%61%67%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%42%65%72%72%79%20%45%6E%68%61%6E%63%65%72%20%50%72%6F%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%21%2D%2D%20%56%49%50%20%4F%4E%4C%59%20%2D%2D%3E%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%6E%67%6C%73%70%61%6D%32%62%65%72%72%79%76%34%2E%65%64%67%65%6F%6E%65%2E%61%70%70%2F%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%6D%6F%62%69%6C%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%4E%67%6C%20%53%70%61%6D%6D%65%72%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%21%2D%2D%20%42%65%72%72%79%20%42%6C%6F%63%6B%65%64%20%2D%2D%3E%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%62%6C%6F%63%6B%65%64%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%77%68%61%74%73%61%70%70%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%42%65%72%72%79%20%42%6C%6F%63%6B%65%64%20%56%34%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%21%2D%2D%20%49%6E%70%65%63%74%6F%72%20%2D%2D%3E%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%69%6E%73%70%65%63%74%2E%68%74%6D%6C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%73%6F%6C%69%64%20%66%61%2D%66%69%6C%65%2D%63%6F%64%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%49%6E%73%70%65%63%74%6F%72%20%53%6F%75%72%63%65%20%43%6F%64%65%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%21%2D%2D%20%48%54%4D%4C%20%45%6E%63%72%79%70%74%20%2D%2D%3E%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%77%77%77%2E%68%74%6D%6C%2D%63%6F%64%65%2D%67%65%6E%65%72%61%74%6F%72%2E%63%6F%6D%2F%74%6F%6F%6C%73%2F%68%74%6D%6C%2D%65%6E%63%72%79%70%74%2D%64%65%63%72%79%70%74%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%68%74%6D%6C%35%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%48%54%4D%4C%20%4A%53%20%43%53%53%20%45%6E%63%72%79%70%74%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%21%2D%2D%20%48%6F%73%74%69%6E%67%20%2D%2D%3E%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%70%61%67%65%73%2E%65%64%67%65%6F%6E%65%2E%61%69%2F%64%72%6F%70%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%68%69%76%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%46%72%65%65%20%55%6E%6C%69%6D%69%74%65%64%20%48%6F%73%74%69%6E%67%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%21%2D%2D%20%42%61%73%65%36%34%20%2D%2D%3E%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%20%69%64%3D%22%62%61%73%65%36%34%54%6F%6F%6C%42%74%6E%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%6F%64%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%42%61%73%65%36%34%20%45%6E%63%20%26%20%44%65%63%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%20%69%64%3D%22%66%61%6E%63%79%46%6F%6E%74%54%6F%6F%6C%42%74%6E%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%20%76%69%70%2D%66%65%61%74%75%72%65%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%66%6F%6E%74%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%46%61%6E%63%79%20%46%6F%6E%74%20%47%65%6E%65%72%61%74%6F%72%0A%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%73%20%66%61%2D%63%72%6F%77%6E%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%35%30%30%20%74%65%78%74%2D%78%73%20%6D%6C%2D%31%20%76%69%70%2D%63%72%6F%77%6E%22%3E%3C%2F%69%3E%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%0A%20%20%20%20%20%20%3C%21%2D%2D%20%4D%45%44%49%41%20%2D%2D%3E%0A%20%20%20%20%20%20%3C%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%78%73%20%74%65%78%74%2D%67%72%61%79%2D%34%30%30%20%75%70%70%65%72%63%61%73%65%20%74%72%61%63%6B%69%6E%67%2D%77%69%64%65%72%20%6D%62%2D%32%22%3E%4D%65%64%69%61%20%53%6F%63%69%61%6C%3C%2F%64%69%76%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%77%68%61%74%73%61%70%70%2E%63%6F%6D%2F%63%68%61%6E%6E%65%6C%2F%30%30%32%39%56%62%42%4C%48%56%43%31%4E%43%72%50%57%6E%59%39%43%44%33%4C%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%77%68%61%74%73%61%70%70%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%53%61%6C%75%72%61%6E%20%57%68%61%74%73%41%70%70%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%74%2E%6D%65%2F%62%65%72%72%79%76%34%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%74%65%6C%65%67%72%61%6D%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%53%61%6C%75%72%61%6E%20%54%65%6C%65%67%72%61%6D%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%77%77%77%2E%79%6F%75%74%75%62%65%2E%63%6F%6D%2F%40%62%65%72%72%79%76%34%76%66%78%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%79%6F%75%74%75%62%65%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%53%61%6C%75%72%61%6E%20%59%6F%75%54%75%62%65%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%77%77%77%2E%69%6E%73%74%61%67%72%61%6D%2E%63%6F%6D%2F%62%65%72%72%79%5F%76%34%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%69%6E%73%74%61%67%72%61%6D%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%49%6E%73%74%61%67%72%61%6D%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%77%77%77%2E%74%69%6B%74%6F%6B%2E%63%6F%6D%2F%40%62%65%72%72%79%2E%65%70%65%70%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%74%69%6B%74%6F%6B%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%54%69%6B%54%6F%6B%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%0A%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%3A%2F%2F%62%65%72%72%79%76%34%2E%62%6C%6F%67%73%70%6F%74%2E%63%6F%6D%2F%22%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%6C%69%6E%6B%20%62%6C%6F%63%6B%20%70%79%2D%32%20%74%65%78%74%2D%73%6D%20%74%65%78%74%2D%67%72%61%79%2D%33%30%30%20%68%6F%76%65%72%3A%74%65%78%74%2D%77%68%69%74%65%20%74%72%61%6E%73%69%74%69%6F%6E%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%63%6C%61%73%73%3D%22%6D%65%6E%75%2D%69%63%6F%6E%20%69%6E%6C%69%6E%65%2D%62%6C%6F%63%6B%20%77%2D%35%20%6D%72%2D%32%22%3E%3C%69%20%63%6C%61%73%73%3D%22%66%61%2D%62%72%61%6E%64%73%20%66%61%2D%62%6C%6F%67%67%65%72%22%3E%3C%2F%69%3E%3C%2F%73%70%61%6E%3E%20%42%6C%6F%67%67%65%72%0A%20%20%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%3C%21%2D%2D%20%46%4F%4F%54%45%52%20%2D%2D%3E%0A%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%73%69%64%65%62%61%72%2D%66%6F%6F%74%65%72%20%70%78%2D%34%20%70%79%2D%34%20%62%6F%72%64%65%72%2D%74%20%62%6F%72%64%65%72%2D%67%72%61%79%2D%38%30%30%20%72%65%6C%61%74%69%76%65%22%3E%0A%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%6C%79%6E%6B%2E%69%64%2F%62%65%72%72%79%64%65%76%34%22%20%63%6C%61%73%73%3D%22%66%6C%65%78%20%69%74%65%6D%73%2D%63%65%6E%74%65%72%20%67%61%70%2D%33%20%6E%6F%2D%75%6E%64%65%72%6C%69%6E%65%20%74%65%78%74%2D%77%68%69%74%65%22%3E%0A%20%20%20%20%20%20%20%20%3C%69%6D%67%20%73%72%63%3D%22%68%74%74%70%73%3A%2F%2F%69%2E%73%75%70%61%69%6D%67%2E%63%6F%6D%2F%39%64%63%66%64%61%63%62%2D%33%37%64%33%2D%34%30%32%66%2D%38%38%64%33%2D%36%61%35%33%38%32%63%64%36%38%61%39%2E%70%6E%67%22%20%61%6C%74%3D%22%50%72%6F%66%69%6C%65%22%20%63%6C%61%73%73%3D%22%77%2D%31%30%20%68%2D%31%30%20%72%6F%75%6E%64%65%64%2D%66%75%6C%6C%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%66%6F%6E%74%2D%62%6F%6C%64%22%20%69%64%3D%22%73%69%64%65%62%61%72%55%73%65%72%6E%61%6D%65%22%3E%42%45%52%52%59%20%56%34%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%64%69%76%20%69%64%3D%22%73%69%64%65%62%61%72%56%65%72%73%69%6F%6E%54%65%78%74%22%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%78%73%20%74%65%78%74%2D%67%72%61%79%2D%34%30%30%20%74%72%61%6E%73%69%74%69%6F%6E%2D%63%6F%6C%6F%72%73%22%3E%4D%65%6D%62%65%72%20%42%69%61%73%61%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%3C%2F%61%3E%0A%20%20%20%20%20%20%3C%64%69%76%20%69%64%3D%22%74%72%69%61%6C%43%6F%75%6E%74%64%6F%77%6E%22%20%63%6C%61%73%73%3D%22%6D%74%2D%32%20%74%65%78%74%2D%78%73%20%74%65%78%74%2D%79%65%6C%6C%6F%77%2D%34%30%30%20%66%6F%6E%74%2D%6D%65%64%69%75%6D%20%68%69%64%64%65%6E%22%3E%0A%20%20%20%20%20%20%20%20%54%72%69%61%6C%20%62%65%72%61%6B%68%69%72%20%64%61%6C%61%6D%3A%20%3C%73%70%61%6E%20%69%64%3D%22%63%6F%75%6E%74%64%6F%77%6E%54%69%6D%65%72%22%3E%2D%2D%3A%2D%2D%3A%2D%2D%3C%2F%73%70%61%6E%3E%0A%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%3C%62%75%74%74%6F%6E%20%69%64%3D%22%6C%6F%67%6F%75%74%56%69%70%42%74%6E%22%20%63%6C%61%73%73%3D%22%6D%74%2D%33%20%77%2D%66%75%6C%6C%20%70%79%2D%31%2E%35%20%74%65%78%74%2D%78%73%20%66%6F%6E%74%2D%6D%65%64%69%75%6D%20%74%65%78%74%2D%70%75%72%70%6C%65%2D%33%30%30%20%62%67%2D%70%75%72%70%6C%65%2D%39%30%30%2F%33%30%20%72%6F%75%6E%64%65%64%20%68%69%64%64%65%6E%22%3E%0A%20%20%20%20%20%20%20%20%4C%6F%67%6F%75%74%20%56%49%50%0A%20%20%20%20%20%20%3C%2F%62%75%74%74%6F%6E%3E%0A%20%20%20%20%3C%2F%64%69%76%3E%0A%3C%2F%61%73%69%64%65%3E'));

// Inline JavaScript
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// STATE & INISIALISASI
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

let pendingVipUser = null;
let vipUsers = [];
let isVip = localStorage.getItem('isVip') === 'true';
const themeToggleBtn = document.getElementById('themeToggle');
let isDarkMode = localStorage.getItem('theme') !== 'light';

const menuBtn = document.getElementById('menuBtn');
const menuIcon = document.getElementById('menuIcon');
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
const searchInput = document.getElementById('searchInput');
const vipPassword = document.getElementById('vipPassword');
const unlockVipBtn = document.getElementById('unlockVipBtn');
const logoutVipBtn = document.getElementById('logoutVipBtn');
const versionEl = document.getElementById('sidebarVersionText');
const notifBtn = document.getElementById('notifBtn');
const notifDropdown = document.getElementById('notifDropdown');
const notifBadge = document.getElementById('notifBadge');

let sidebarOpen = false;
let currentCategory = 'all';


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// FUNGSI EXTERNAL
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

function decode64(str) {
  try {
    return atob(str);
  } catch {
    return '';
  }
}

async function loadVipUsers() {
  try {
    const res = await fetch('./VIP/user.json', { cache: 'no-store' });
    if (!res.ok) throw new Error('Failed to load user.json');
    const data = await res.json();
    vipUsers = Array.isArray(data.users) ? data.users : [];
    console.log('VIP users loaded:', vipUsers.length);
  } catch (e) {
    console.warn('VIP gagal dimuat:', e.message);
    vipUsers = [];
  }
}

function showDevAlert() {
  showDevAlert();
}

// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// MANAJEMEN VIP
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

function resetVipSession() {
  isVip = false;
  pendingVipUser = null;

  localStorage.removeItem('isVip');
  localStorage.removeItem('vipUserId');
  localStorage.removeItem('trialExpiry');

  if (countdownInterval) {
    clearInterval(countdownInterval);
    countdownInterval = null;
  }

  document.body.classList.remove('vip-mode');
  updateVipUI();
  updateVipFeatures();
  updateDownloadButtons();
}

function activateVip(isTrial) {
  isVip = true;
  localStorage.setItem('isVip', 'true');
  document.body.classList.add('vip-mode');
  vipPassword.value = '';

  updateVipUI();
  updateDownloadButtons();
  updateVipFeatures();
  showVIPCongrats();

  if (isTrial) startCountdown();
}

function checkTrialStatus() {
  const expiry = localStorage.getItem('trialExpiry');
  const vipFlag = localStorage.getItem('isVip');

  if (vipFlag !== 'true') {
    localStorage.removeItem('trialExpiry');
    isVip = false;
    document.body.classList.remove('vip-mode');
    updateVipUI();
    updateVipFeatures();
    return;
  }

  if (!expiry) {
    isVip = true;
    document.body.classList.add('vip-mode');
    updateVipUI();
    updateVipFeatures();
    return;
  }

  if (Date.now() > new Date(expiry).getTime()) {
    localStorage.removeItem('trialExpiry');
    localStorage.removeItem('isVip');
    localStorage.removeItem('vipUserId');

    isVip = false;
    document.body.classList.remove('vip-mode');
    updateVipUI();
    updateVipFeatures();
    return;
  }

  isVip = true;
  document.body.classList.add('vip-mode');
  updateVipUI();
  updateVipFeatures();
  startCountdown();
}

function updateVipUI() {
  const vipPanel = document.getElementById('vipPanel');
  const logoutBtn = document.getElementById('logoutVipBtn');
  const countdownEl = document.getElementById('trialCountdown');
  const usernameEl = document.getElementById('sidebarUsername');

  const vipUserId = localStorage.getItem('vipUserId');

  if (isVip) {
    if (usernameEl && vipUserId) {
      usernameEl.textContent = vipUserId;
    }

    if (localStorage.getItem('trialExpiry') && usernameEl && vipUserId) {
      usernameEl.textContent = `${vipUserId}`;
    }
    
    if (versionEl) {
      versionEl.textContent = 'Member VIP';
      versionEl.classList.remove('text-gray-400');
      versionEl.classList.add('text-purple-400', 'font-bold');
    }

    logoutBtn?.classList.remove('hidden');
    vipPanel?.classList.add('hidden');

    if (localStorage.getItem('trialExpiry')) {
      countdownEl?.classList.remove('hidden');
    } else {
      countdownEl?.classList.add('hidden');
    }

  } else {
    if (usernameEl) usernameEl.textContent = 'BERRY V4';

    if (versionEl) {
      versionEl.textContent = 'Member Biasa';
      versionEl.classList.remove('text-purple-400', 'font-bold');
      versionEl.classList.add('text-gray-400');
    }

    logoutBtn?.classList.add('hidden');
    vipPanel?.classList.remove('hidden');
    countdownEl?.classList.add('hidden');
  }
}

let countdownInterval = null;
function startCountdown() {
  clearInterval(countdownInterval);
  const expiry = localStorage.getItem('trialExpiry');
  if (!expiry) return;
  const updateTimer = () => {
    const now = new Date();
    const end = new Date(expiry);
    const diff = end - now;
    if (diff <= 0) {
      clearInterval(countdownInterval);
      localStorage.removeItem('isVip');
      localStorage.removeItem('trialExpiry');
      isVip = false;
      document.body.classList.remove('vip-mode');
      updateVipUI();
      updateVipFeatures();
      alert('Trial VIP Anda telah berakhir.');
      return;
    }
    const totalSeconds = Math.floor(diff / 1000);
    const days = Math.floor(totalSeconds / (3600 * 24));
    const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
    const minutes = Math.floor((totalSeconds % 3600) / 60);
    const seconds = totalSeconds % 60;
    let timerStr = days > 0
      ? `${String(days).padStart(2, '0')}:${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`
      : `00:${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    const countdownTimerEl = document.getElementById('countdownTimer');
    if (countdownTimerEl) countdownTimerEl.textContent = timerStr;
  };
  updateTimer();
  countdownInterval = setInterval(updateTimer, 1000);
}

// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// KONTROL AKSES FITUR VIP
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

function updateVipFeatures() {
  const vipFeatures = document.querySelectorAll('.vip-feature');
  const crownIcons = document.querySelectorAll('.vip-crown');

  crownIcons.forEach(crown => {
    crown.classList.toggle('hidden', isVip);
  });

  vipFeatures.forEach(link => {
    if (!link.dataset.originalHref) {
      link.dataset.originalHref = link.href;
    }

    link.href = '#';

    if (!link._hasVipListener) {
      link.addEventListener('click', function (e) {
        e.preventDefault();

        if (isVip) {
          if (this.id === 'base64ToolBtn') {
            if (typeof handleBase64Tool === 'function') {
              handleBase64Tool();
            } else {
              alert("Base64 Encoder/Decoder dibuka!");
            }
          } else {
            const url = this.dataset.originalHref?.trim();
            if (url && url !== '#' && url !== '') {
              window.open(url, '_blank');
            }
          }
        } else {
          showVIPAlert();
          const vipPanel = document.getElementById('vipPanel');
          if (vipPanel) {
            vipPanel.scrollIntoView({ behavior: 'smooth' });
            const input = vipPanel.querySelector('input');
            if (input) input.focus();
          }
        }
      });
      link._hasVipListener = true;
    }
  });
}


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// MANAJEMEN UI & TEMA
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

function applyTheme() {
  if (isDarkMode) {
    document.body.classList.remove('light-mode');
    if (themeToggleBtn) {
      themeToggleBtn.innerHTML = '<span class="menu-icon inline-block w-5 mr-2"><i class="fas fa-moon"></i></span> Mode Gelap';
    }
  } else {
    document.body.classList.add('light-mode');
    if (themeToggleBtn) {
      themeToggleBtn.innerHTML = '<span class="menu-icon inline-block w-5 mr-2"><i class="fas fa-sun"></i></span> Mode Terang';
    }
  }
  localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
}

if (themeToggleBtn) {
  themeToggleBtn.addEventListener('click', () => {
    isDarkMode = !isDarkMode;
    applyTheme();
  });
}

if (localStorage.getItem('theme') === null) {
  localStorage.setItem('theme', 'dark');
}
applyTheme();


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// EVENT LISTENERS UI
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

menuBtn?.addEventListener('click', () => {
  sidebarOpen = !sidebarOpen;
  if (sidebarOpen) {
    sidebar.style.transform = 'translateX(0)';
    overlay.classList.remove('hidden');
    menuIcon.classList.replace('fa-bars', 'fa-xmark');
    menuBtn.style.transform = 'rotate(180deg)';
  } else {
    sidebar.style.transform = 'translateX(-100%)';
    overlay.classList.add('hidden');
    menuIcon.classList.replace('fa-xmark', 'fa-bars');
    menuBtn.style.transform = 'rotate(0deg)';
  }
});

overlay?.addEventListener('click', () => {
  sidebar.style.transform = 'translateX(-100%)';
  overlay.classList.add('hidden');
  menuIcon.classList.replace('fa-xmark', 'fa-bars');
  menuBtn.style.transform = 'rotate(0deg)';
  sidebarOpen = false;
});

if (notifBtn && notifDropdown) {
  notifBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    notifDropdown.classList.toggle('hidden');
    if (notifBadge) notifBadge.classList.add('hidden');
  });

  document.addEventListener('click', (e) => {
    if (!notifDropdown.contains(e.target) && e.target !== notifBtn) {
      notifDropdown.classList.add('hidden');
    }
  });
}

searchInput?.addEventListener('input', () => {
  if (typeof filterApps === 'function') {
    filterApps(currentCategory);
  }
});

// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// LOGOUT FUNCTION
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

document.addEventListener('DOMContentLoaded', () => {
  loadVipUsers();
});

unlockVipBtn?.addEventListener('click', () => {
  const pass = vipPassword.value.trim();
  if (!pass) return;

  const user = vipUsers.find(u => decode64(u.password) === pass);

  if (!user) {
    showVipAlert();
    return;
  }

  // simpan user sementara (BELUM AKTIF VIP)
  pendingVipUser = user;

  // tampilkan modal konfirmasi username
  const modal = document.getElementById('usernameModal');
  const input = document.getElementById('usernameConfirmInput');

  if (input) input.value = '';
  if (modal) modal.classList.remove('hidden');
});


// ===============================
// KONFIRMASI USERNAME
// ===============================

const confirmUsernameBtn = document.getElementById('confirmUsernameBtn');
const cancelUsernameBtn = document.getElementById('cancelUsernameConfirm');

confirmUsernameBtn?.addEventListener('click', () => {
  if (!pendingVipUser) return;

  const inputUsername = document
    .getElementById('usernameConfirmInput')
    .value
    .trim();

  // username tidak cocok
  if (inputUsername !== pendingVipUser.id) {
    alert('Username tidak cocok dengan password.');
    return;
  }

  localStorage.setItem('vipUserId', pendingVipUser.id);

  if (pendingVipUser.type === 'trial') {
    if (Date.now() > new Date(pendingVipUser.expiry).getTime()) {
      alert('Trial sudah berakhir');
      closeUsernameModal();
      return;
    }
    localStorage.setItem('trialExpiry', pendingVipUser.expiry);
    activateVip(true);
  } else {
    activateVip(false);
  }

  closeUsernameModal();
});

cancelUsernameBtn?.addEventListener('click', closeUsernameModal);

function closeUsernameModal() {
  const modal = document.getElementById('usernameModal');
  if (modal) modal.classList.add('hidden');
  pendingVipUser = null;
}

if (logoutVipBtn) {
logoutVipBtn.addEventListener('click', () => {
  resetVipSession();
  showLogoutVIP();
});
}

function updateDownloadButtons() {
  document.querySelectorAll('.download-section button:not([onclick*="toggleFullDesc"])').forEach(btn => {
    btn.textContent = isVip ? 'DOWNLOAD VIP' : 'DOWNLOAD';
  });
}

// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// FUNGSI DOWNLOAD
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

function handleDownload(btn) {
  const isVip = localStorage.getItem('isVip') === 'true';
  const href = isVip ? btn.dataset.vipHref : btn.dataset.normalHref;
  if (href && href.trim() !== '') {
    window.open(href, '_blank');
  }
}

window.handleDownload = handleDownload;


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// FUNGSI INTERAKSI KARTU APLIKASI
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

function toggleCard(btn) {
  const card = btn.closest('.app-card');
  const section = card.querySelector('.download-section');
  const arrow = btn.querySelector('.arrow');
  if (section.classList.contains('open')) {
    section.classList.remove('open');
    section.style.maxHeight = '0';
    section.style.opacity = '0';
    section.style.transform = 'scaleY(0)';
    arrow.style.transform = 'rotate(180deg)';
    const fullDesc = section.querySelector('.full-desc');
    const toggleBtn = section.querySelector('[onclick*="toggleFullDesc"]');
    if (fullDesc && !fullDesc.classList.contains('hidden')) {
      fullDesc.classList.add('hidden');
      toggleBtn.textContent = 'Lihat Detail Lengkap â–¼';
    }
  } else {
    section.classList.add('open');
    const clone = section.cloneNode(true);
    clone.querySelector('.full-desc')?.classList.add('hidden');
    document.body.appendChild(clone);
    clone.style.visibility = 'hidden';
    clone.style.position = 'absolute';
    clone.style.height = 'auto';
    clone.style.maxHeight = 'none';
    const height = clone.scrollHeight;
    document.body.removeChild(clone);
    section.style.maxHeight = height + 'px';
    section.style.opacity = '1';
    section.style.transform = 'scaleY(1)';
    arrow.style.transform = 'rotate(0deg)';
  }
}

function toggleFullDesc(btn) {
  const desc = btn.previousElementSibling;
  if (desc.classList.contains('hidden')) {
    desc.classList.remove('hidden');
    btn.textContent = 'Sembunyikan Detail â–²';
    const section = btn.closest('.download-section');
    if (section.classList.contains('open')) {
      section.style.maxHeight = section.scrollHeight + 'px';
    }
  } else {
    desc.classList.add('hidden');
    btn.textContent = 'Lihat Detail Lengkap â–¼';
    const section = btn.closest('.download-section');
    if (section.classList.contains('open')) {
      const clone = section.cloneNode(true);
      clone.querySelector('.full-desc')?.classList.add('hidden');
      document.body.appendChild(clone);
      clone.style.visibility = 'hidden';
      clone.style.position = 'absolute';
      clone.style.height = 'auto';
      clone.style.maxHeight = 'none';
      const height = clone.scrollHeight;
      document.body.removeChild(clone);
      section.style.maxHeight = height + 'px';
    }
  }
}


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// SORTING & FILTERING APLIKASI
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

(function () {
  let currentCategory = 'all';
  let sortMode = 'az';

  const container = document.getElementById('appContainer');
  const sortToggle = document.getElementById('sortToggle');
  const sortLabel = document.getElementById('sortLabel');
  const noResult = document.getElementById('noResult') || null;
  const tabButtons = Array.from(document.querySelectorAll('.tab-btn'));
  const searchInput = document.getElementById('searchInput') || document.querySelector('input[type="search"], input.search, #search');

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  // UTILITAS
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

  function getCategoryFromBtn(btn) {
    if (!btn) return 'all';
    if (btn.dataset && btn.dataset.cat) return btn.dataset.cat;
    const onclick = btn.getAttribute && btn.getAttribute('onclick');
    if (onclick) {
      const m = onclick.match(/filterApps\(\s*['"`]([^'"`]+)['"`]/);
      if (m) return m[1];
    }
    return btn.textContent.trim().toLowerCase() || 'all';
  }

  function parseCustomDate(dateStr) {
    if (!dateStr) return null;
    const clean = dateStr.replace(/Update:/i, '').trim();
    const months = {
      Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5,
      Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11
    };
    const parts = clean.split(' ');
    if (parts.length !== 3) return null;
    const day = parseInt(parts[0]);
    const month = months[parts[1]];
    const year = parseInt(parts[2]);
    if (isNaN(day) || month === undefined || isNaN(year)) return null;
    return new Date(year, month, day);
  }

  function extractUpdateDate(card) {
    if (!card) return 0;

    const dataUpdate = card.getAttribute && card.getAttribute('data-update');
    if (dataUpdate) {
      const parsed = Date.parse(dataUpdate);
      if (!isNaN(parsed)) return parsed;
      const num = Number(dataUpdate);
      if (!isNaN(num)) return num;
    }

    const desc = card.querySelector('.full-desc') || card.querySelector('p');
    if (desc) {
      const text = desc.textContent.trim();
      const match = text.match(/Update:\s*([0-9]{1,2}\s+[A-Za-z]{3}\s+[0-9]{4})/);
      if (match && match[1]) {
        const parsedCustom = parseCustomDate(match[1]);
        if (parsedCustom instanceof Date && !isNaN(parsedCustom)) {
          return parsedCustom.getTime();
        }
      }
    }

    return 0;
  }

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  // SORTING
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

  function sortApps() {
    if (!container) return;
    const apps = Array.from(container.querySelectorAll('.app-card'));
    if (!apps.length) return;

    if (sortMode === 'az') {
      apps.sort((a, b) => {
        const nameA = (a.dataset.name || '').toLowerCase();
        const nameB = (b.dataset.name || '').toLowerCase();
        return nameA.localeCompare(nameB);
      });
    } else if (sortMode === 'update') {
      apps.sort((a, b) => extractUpdateDate(b) - extractUpdateDate(a));
    }

    const fragment = document.createDocumentFragment();
    apps.forEach(app => fragment.appendChild(app));
    container.appendChild(fragment);
  }

  function filterApps(category, btn = null) {
    currentCategory = category || currentCategory || 'all';
    const apps = document.querySelectorAll('.app-card');
    const searchTerm = (searchInput && searchInput.value) ? searchInput.value.toLowerCase().trim() : '';
    let visible = 0;

    apps.forEach(app => {
      const name = (app.dataset.name || '').toLowerCase();
      const matchesCategory = (currentCategory === 'all') || app.classList.contains(currentCategory);
      const matchesSearch = !searchTerm || name.includes(searchTerm);

      if (matchesCategory && matchesSearch) {
        app.style.display = '';
        app.classList.remove('faded-out');
        app.classList.add('faded-in');
        visible++;
      } else {
        app.style.display = 'none';
        app.classList.remove('faded-in');
        app.classList.add('faded-out');
      }
    });

    if (noResult) noResult.classList.toggle('hidden', visible > 0);

    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    if (btn && btn.classList) btn.classList.add('active');
    else {
      const found = tabButtons.find(b => getCategoryFromBtn(b) === currentCategory);
      if (found) found.classList.add('active');
    }
  }

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  // UI INTERAKSI
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

  function attachTabHandlers() {
    tabButtons.forEach(btn => {
      btn.addEventListener('click', function () {
        const cat = getCategoryFromBtn(btn);
        filterApps(cat, btn);
      });
    });
  }

  function attachSearchHandler() {
    if (!searchInput) return;
    searchInput.addEventListener('input', () => {
      filterApps(currentCategory, document.querySelector('.tab-btn.active') || null);
    });
    searchInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        filterApps(currentCategory, document.querySelector('.tab-btn.active') || null);
      }
    });
  }


  function updateSortLabelColor() {
    if (!sortLabel) return;
    const rootStyles = getComputedStyle(document.documentElement);
    const accent = rootStyles.getPropertyValue('--accent').trim();
    const textColor = rootStyles.getPropertyValue('--text-color').trim();

    sortLabel.style.color = sortLabel.textContent === 'New' ? accent : textColor;
  }

  function attachSortToggle() {
    if (!sortToggle) return;

    const iconAZ = sortToggle.querySelector('.fa-sort-alpha-down');
    const iconClock = sortToggle.querySelector('.fa-clock');

    sortToggle.addEventListener('click', function () {
      if (sortMode === 'az') {
        sortMode = 'update';
        sortLabel.textContent = 'New';
        this.classList.add('active');
        if (iconAZ && iconClock) {
          iconAZ.classList.add('hidden');
          iconClock.classList.remove('hidden');
        }
      } else {
        sortMode = 'az';
        sortLabel.textContent = 'Aâ€“Z';
        this.classList.remove('active');
        if (iconAZ && iconClock) {
          iconClock.classList.add('hidden');
          iconAZ.classList.remove('hidden');
        }
      }

      updateSortLabelColor();
      sortApps();
      filterApps(currentCategory, document.querySelector('.tab-btn.active') || null);
    });
  }

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  // INISIALISASI
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

  document.addEventListener('DOMContentLoaded', () => {
    attachTabHandlers();
    attachSortToggle();
    attachSearchHandler();
    sortApps();

    const active = document.querySelector('.tab-btn.active');
    if (active) currentCategory = getCategoryFromBtn(active);
    else {
      const first = tabButtons[0];
      if (first) {
        first.classList.add('active');
        currentCategory = getCategoryFromBtn(first);
      }
    }

    filterApps(currentCategory, document.querySelector('.tab-btn.active') || null);
    updateSortLabelColor();
  });

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  // Integrasi dengan sistem tema dari script utama
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

  // Jika ada toggle tema, pastikan label ikut berubah
  window.addEventListener('themechange', updateSortLabelColor);

  // fallback untuk dipanggil manual dari applyTheme()
  window.updateSortLabelColor = updateSortLabelColor;

  // Ekspor fungsi global
  window.filterApps = filterApps;
  window.sortApps = sortApps;
})();

// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// BANNER SLIDER
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

(function() {
  const slidesContainer = document.getElementById('bannerSlides');
  const dotsContainer = document.getElementById('dotsContainer');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  if (!slidesContainer) return;
  const slides = Array.from(slidesContainer.children);
  let currentIndex = 0;
  const totalSlides = slides.length;
  let autoSlideInterval;
  for (let i = 0; i < totalSlides; i++) {
    const dot = document.createElement('button');
    dot.className = 'w-2 h-2 rounded-full bg-white/50 hover:bg-white transition';
    dot.setAttribute('aria-label', `Go to slide ${i + 1}`);
    dot.addEventListener('click', () => goToSlide(i));
    dotsContainer.appendChild(dot);
  }
  const dots = dotsContainer.querySelectorAll('button');
  updateDots();
  function updateDots() {
    dots.forEach((dot, i) => {
      if (i === currentIndex) {
        dot.classList.replace('bg-white/50', 'bg-white');
      } else {
        dot.classList.replace('bg-white', 'bg-white/50');
      }
    });
  }
  function goToSlide(index) {
    if (index < 0) index = totalSlides - 1;
    if (index >= totalSlides) index = 0;
    currentIndex = index;
    const offset = -currentIndex * 100;
    slidesContainer.style.transform = `translateX(${offset}%)`;
    updateDots();
    resetAutoSlide();
  }
  function nextSlide() {
    goToSlide(currentIndex + 1);
  }
  function prevSlide() {
    goToSlide(currentIndex - 1);
  }
  function startAutoSlide() {
    autoSlideInterval = setInterval(nextSlide, 3000);
  }
  function resetAutoSlide() {
    clearInterval(autoSlideInterval);
    startAutoSlide();
  }
  if (nextBtn) nextBtn.addEventListener('click', nextSlide);
  if (prevBtn) prevBtn.addEventListener('click', prevSlide);
  if (totalSlides > 1) {
    startAutoSlide();
  }
  const carousel = document.getElementById('bannerCarousel');
  if (carousel) {
    carousel.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
    carousel.addEventListener('mouseleave', () => totalSlides > 1 && startAutoSlide());
  }
})();


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// MODAL SPOTIFY
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

const spotifyBtn = document.getElementById('spotifyBtn');
const spotifyModal = document.getElementById('spotifyModal');
const closeSpotifyModal = document.getElementById('closeSpotifyModal');
if (spotifyBtn && spotifyModal) {
  spotifyBtn.addEventListener('click', (e) => {
    e.preventDefault();
    spotifyModal.classList.remove('hidden');
  });
  closeSpotifyModal.addEventListener('click', () => {
    spotifyModal.classList.add('hidden');
  });
  spotifyModal.addEventListener('click', (e) => {
    if (e.target === spotifyModal) {
      spotifyModal.classList.add('hidden');
    }
  });
}


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// MODAL BASE64 TOOL
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

const base64ToolBtn = document.getElementById('base64ToolBtn');
const base64Modal = document.getElementById('base64Modal');
const closeBase64Modal = document.getElementById('closeBase64Modal');
const toggleEncode = document.getElementById('toggleEncode');
const toggleDecode = document.getElementById('toggleDecode');
const base64Input = document.getElementById('base64Input');
const base64Output = document.getElementById('base64Output');
const processBase64 = document.getElementById('processBase64');
const copyBase64Output = document.getElementById('copyBase64Output');
let isEncoding = true;

if (base64ToolBtn) {
  base64ToolBtn.addEventListener('click', function(e) {
    if (!isVip) {
      e.preventDefault();
      showVIPAlert();
      return;
    }
    base64Modal.classList.remove('hidden');
    base64Input.value = '';
    base64Output.textContent = '';
    base64Output.className = 'w-full bg-gray-800 text-green-400 text-sm rounded-lg p-3 h-24 overflow-auto whitespace-pre-wrap break-words font-mono';
    setMode(true);
  });
}

function closeModal() {
  base64Modal.classList.add('hidden');
}

if (closeBase64Modal) {
  closeBase64Modal.addEventListener('click', closeModal);
}

if (base64Modal) {
  base64Modal.addEventListener('click', (e) => {
    if (e.target === base64Modal) {
      closeModal();
    }
  });
}

function setMode(encode) {
  isEncoding = encode;
  if (encode) {
    toggleEncode.classList.add('bg-purple-600', 'text-white');
    toggleEncode.classList.remove('bg-transparent', 'text-gray-300');
    toggleDecode.classList.add('bg-transparent', 'text-gray-300');
    toggleDecode.classList.remove('bg-purple-600', 'text-white');
  } else {
    toggleDecode.classList.add('bg-purple-600', 'text-white');
    toggleDecode.classList.remove('bg-transparent', 'text-gray-300');
    toggleEncode.classList.add('bg-transparent', 'text-gray-300');
    toggleEncode.classList.remove('bg-purple-600', 'text-white');
  }
}

if (toggleEncode) toggleEncode.addEventListener('click', () => setMode(true));
if (toggleDecode) toggleDecode.addEventListener('click', () => setMode(false));

if (processBase64) {
  processBase64.addEventListener('click', () => {
    const input = base64Input.value.trim();
    if (!input) {
      base64Output.textContent = 'Masukkan teks terlebih dahulu.';
      base64Output.className = 'w-full bg-gray-800 text-yellow-400 text-sm rounded-lg p-3 h-24 overflow-auto whitespace-pre-wrap break-words font-mono';
      return;
    }
    try {
      let result;
      if (isEncoding) {
        result = btoa(unescape(encodeURIComponent(input)));
      } else {
        result = decodeURIComponent(escape(atob(input)));
      }
      base64Output.textContent = result;
      base64Output.className = 'w-full bg-gray-800 text-green-400 text-sm rounded-lg p-3 h-24 overflow-auto whitespace-pre-wrap break-words font-mono';
    } catch (err) {
      base64Output.textContent = 'Error: Format Base64 tidak valid.';
      base64Output.className = 'w-full bg-gray-800 text-red-400 text-sm rounded-lg p-3 h-24 overflow-auto whitespace-pre-wrap break-words font-mono';
    }
  });
}


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// FUNGSI SALIN KE CLIPBOARD
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

function copyToClipboard(text) {
  if (!text) return false;
  let success = false;
  try {
    const textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.setAttribute('readonly', '');
    textarea.style.position = 'absolute';
    textarea.style.left = '-9999px';
    document.body.appendChild(textarea);
    textarea.select();
    textarea.setSelectionRange(0, 99999);
    success = document.execCommand('copy');
    document.body.removeChild(textarea);
  } catch (err) {
    console.warn('Fallback copy gagal:', err);
    success = false;
  }
  if (!success && navigator.clipboard && window.isSecureContext) {
    return navigator.clipboard.writeText(text).then(() => {
      return true;
    }).catch(err => {
      console.warn('Clipboard API gagal:', err);
      return false;
    });
  }
  return Promise.resolve(success);
}

if (copyBase64Output) {
  copyBase64Output.addEventListener('click', () => {
    const text = base64Output.textContent.trim();
    const errorMessages = [
      'Masukkan teks terlebih dahulu.',
      'Error: Format Base64 tidak valid.'
    ];
    if (!text || errorMessages.includes(text)) {
      return;
    }
    copyToClipboard(text).then(success => {
      const originalHTML = copyBase64Output.innerHTML;
      if (success) {
        copyBase64Output.innerHTML = '<i class="fas fa-check text-green-400"></i>';
        setTimeout(() => {
          copyBase64Output.innerHTML = originalHTML;
        }, 1200);
      } else {
        copyBase64Output.innerHTML = '<i class="fas fa-times text-red-400"></i>';
        setTimeout(() => {
          copyBase64Output.innerHTML = originalHTML;
        }, 1200);
      }
    });
  });
}


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// TOAST NOTIFIKASI
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

document.addEventListener("DOMContentLoaded", () => {
  const toast = document.getElementById("toast");
  if (!toast) return;
  const hasShownToast = localStorage.getItem("toastShown");
  if (hasShownToast) return;
  localStorage.setItem("toastShown", "true");
  function showToast() {
    setTimeout(() => toast.classList.add("show"), 300);
  }

  function hideToast() {
    toast.style.transition = "transform 0.3s ease-out, opacity 0.3s ease-out";
    toast.style.transform = "translateX(-50%) translateY(-100px) scale(0.95)";
    toast.style.opacity = "0";
    setTimeout(() => {
      toast.classList.remove("show");
      toast.style.transform = "";
      toast.style.opacity = "";
      toast.style.transition = "";
    }, 300);
  }

  let startX = 0, currentX = 0, swiping = false;
  toast.addEventListener("touchstart", (e) => {
    startX = e.touches[0].clientX;
    swiping = true;
    toast.style.transition = "none";
  });

  toast.addEventListener("touchmove", (e) => {
    if (!swiping) return;
    currentX = e.touches[0].clientX - startX;
    toast.style.transform = `translateX(calc(-50% + ${currentX}px)) scale(1)`;
    toast.style.opacity = Math.max(0, 1 - Math.abs(currentX) / 200);
  });

  toast.addEventListener("touchend", () => {
    if (!swiping) return;
    const threshold = 80;
    if (Math.abs(currentX) > threshold) {
      const direction = currentX > 0 ? 1 : -1;
      const finalX = direction * window.innerWidth;
      toast.style.transition = "transform 0.3s ease-out, opacity 0.3s ease-out";
      toast.style.transform = `translateX(calc(-50% + ${finalX}px)) scale(1)`;
      toast.style.opacity = "0";
      setTimeout(() => {
        toast.classList.remove("show");
        toast.style.transform = "";
        toast.style.opacity = "";
        toast.style.transition = "";
      }, 300);
    } else {
      toast.style.transition = "transform 0.3s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.3s cubic-bezier(0.22, 1, 0.36, 1)";
      toast.style.transform = "translateX(-50%) scale(1)";
      toast.style.opacity = "1";
      setTimeout(() => toast.style.transition = "", 300);
    }
    currentX = 0;
    swiping = false;
  });
  showToast();
  setTimeout(() => hideToast(), 5000);
});


// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
//  INSTALL BANNER 
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

let deferredPrompt; // simpan event beforeinstallprompt global

document.addEventListener('DOMContentLoaded', () => {
  const banner = document.getElementById('installBanner');
  const installBtn = document.getElementById('installBtn');
  if (!banner || !installBtn) {
    console.error('Elemen #installBanner atau #installBtn tidak ditemukan!');
    return;
  }

  // Awalnya sembunyikan banner
  banner.style.display = 'none';
  banner.style.opacity = '0';
  banner.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
  banner.style.willChange = 'transform, opacity';

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  //  EVENT BEFOREINSTALLPROMPT
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    // Tampilkan banner
    banner.style.display = 'flex';
    banner.classList.add('show');
    setTimeout(() => (banner.style.opacity = '1'), 50);

    console.log('beforeinstallprompt diterima, banner ditampilkan');
  });

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  //  TOMBOL INSTALL
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  installBtn.addEventListener('click', async () => {
    if (!deferredPrompt) {
      console.warn('Tidak ada prompt yang tersedia.');
      return;
    }

    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    console.log('User memilih:', outcome);

    // Reset prompt
    deferredPrompt = null;

    // Sembunyikan banner setelah respon
    banner.style.opacity = '0';
    setTimeout(() => banner.remove(), 400);
  });

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  //  EVENT APPINSTALLED
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  window.addEventListener('appinstalled', () => {
    console.log('Berry Mod Apeka berhasil diinstal!');
    banner.remove();
  });

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  //  GESTURE SWIPE UNTUK MENUTUP BANNER
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  let startX = 0, currentX = 0, startY = 0, currentY = 0, isDragging = false;

  banner.style.touchAction = 'pan-y';

  banner.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
    startY = e.touches[0].clientY;
    isDragging = true;
    banner.style.transition = 'none';
  });

  banner.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    currentX = e.touches[0].clientX - startX;
    currentY = e.touches[0].clientY - startY;

    if (Math.abs(currentX) > Math.abs(currentY)) {
      banner.style.transform = `translateX(${currentX}px)`;
      banner.style.opacity = `${1 - Math.abs(currentX) / 200}`;
    } else if (currentY > 0) {
      banner.style.transform = `translateY(${currentY}px)`;
      banner.style.opacity = `${1 - currentY / 150}`;
    }
  });

  banner.addEventListener('touchend', () => {
    isDragging = false;
    banner.style.transition = 'transform 0.3s ease, opacity 0.3s ease';

    if (Math.abs(currentX) > 100) {
      banner.style.transform = `translateX(${currentX > 0 ? '120%' : '-120%'})`;
      banner.style.opacity = '0';
      setTimeout(() => banner.remove(), 300);
    } else if (currentY > 80) {
      banner.style.transform = 'translateY(150%)';
      banner.style.opacity = '0';
      setTimeout(() => banner.remove(), 300);
    } else {
      banner.style.transform = 'translateY(0)';
      banner.style.opacity = '1';
    }

    currentX = 0;
    currentY = 0;
  });

  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  //  OTOMATIS HILANG SETELAH 5 DETIK
  // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  setTimeout(() => {
    if (banner.isConnected) {
      banner.style.opacity = '0';
      banner.style.transform = 'translateY(150%)';
      setTimeout(() => banner.remove(), 500);
    }
  }, 5000);
});
  
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// ALERT POPUP (VIP & DEV)
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

let keyboardBlocker = null;

function showVIPAlert() {
  const alertBox = document.getElementById('vipAlert');
  const cancelBtn = document.getElementById('vipCancel');
  const joinBtn = document.getElementById('vipJoin');

  alertBox.classList.remove('hidden');
  document.body.style.overflow = 'hidden';
  document.activeElement?.blur();

  keyboardBlocker = (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.isContentEditable) {
      e.target.blur();
    }
    return false;
  };
  document.addEventListener('focusin', keyboardBlocker, true);

  cancelBtn.onclick = () => closeVIPAlert();
  joinBtn.onclick = () => {
    closeVIPAlert();
    window.location.href = "https://lynk.id/berryv4/zjwzdn5zez9p ";
  };
}

function closeVIPAlert() {
  const alertBox = document.getElementById('vipAlert');
  alertBox.classList.add('hidden');
  document.body.style.overflow = '';
  document.activeElement?.blur();

  if (keyboardBlocker) {
    document.removeEventListener('focusin', keyboardBlocker, true);
    keyboardBlocker = null;
  }
}

let keyboardBlockerDev = null;

function showDevAlert() {
  const alertBox = document.getElementById('devAlert');
  const okBtn = document.getElementById('devOk');

  alertBox.classList.remove('hidden');
  document.activeElement?.blur();
  document.body.style.overflow = 'hidden';

  keyboardBlockerDev = (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (['INPUT', 'TEXTAREA'].includes(e.target.tagName) || e.target.isContentEditable) {
      e.target.blur();
    }
    return false;
  };
  document.addEventListener('focusin', keyboardBlockerDev, true);

  okBtn.onclick = () => closeDevAlert();
}

function closeDevAlert() {
  const alertBox = document.getElementById('devAlert');
  alertBox.classList.add('hidden');
  document.body.style.overflow = '';
  document.activeElement?.blur();

  if (keyboardBlockerDev) {
    document.removeEventListener('focusin', keyboardBlockerDev, true);
    keyboardBlockerDev = null;
  }
}

let keyboardBlockerVip = null;

function showVIPCongrats() {
  const alertBox = document.getElementById('vipCongrats');
  const okBtn = document.getElementById('vipCongratsOk');

  alertBox.classList.remove('hidden');
  document.body.style.overflow = 'hidden';
  document.activeElement?.blur();

  // ðŸ”’ Blokir keyboard & input
  keyboardBlockerVip = (e) => {
    e.preventDefault();
    e.stopPropagation();
    if (['INPUT', 'TEXTAREA'].includes(e.target.tagName) || e.target.isContentEditable) {
      e.target.blur();
    }
    return false;
  };
  document.addEventListener('focusin', keyboardBlockerVip, true);

  okBtn.onclick = () => closeVIPCongrats();
}

function closeVIPCongrats() {
  const alertBox = document.getElementById('vipCongrats');
  alertBox.classList.add('hidden');
  document.body.style.overflow = '';
  document.activeElement?.blur();

  if (keyboardBlockerVip) {
    document.removeEventListener('focusin', keyboardBlockerVip, true);
    keyboardBlockerVip = null;
  }
}

function showLogoutVIP() {
  const modal = document.getElementById('logoutVIP');
  const okBtn = document.getElementById('logoutOK');

  // Hapus fokus untuk mencegah keyboard muncul
  document.activeElement.blur();

  // Tampilkan modal
  modal.classList.remove('hidden');
  document.body.style.overflow = 'hidden';

  // Blokir input focus agar keyboard tidak bisa muncul
  document.addEventListener('focusin', blockKeyboard, true);

  // Tombol OK
  okBtn.onclick = () => closeLogoutVIP();
}

function closeLogoutVIP() {
  const modal = document.getElementById('logoutVIP');
  modal.classList.add('hidden');
  document.body.style.overflow = '';

  // Lepas blokir keyboard
  document.removeEventListener('focusin', blockKeyboard, true);
}

function blockKeyboard(e) {
  if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.isContentEditable) {
    e.preventDefault();
    e.target.blur();
  }
}

// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// TITLE BERRY MOD APEKA
// â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

const texts = ["BERRY MOD APEKA", "TRUSTED MOD"];
const typeSpeed = 80;      // ms per huruf kira-kira
const eraseSpeed = 45;
const pauseAfterType = 1400;
const pauseBeforeType = 300;

const el = document.getElementById("berryTitle");
let idx = 0;
let running = false;

function typeText(text, done) {
  let i = 0;
  el.classList.remove("bobbing");
  function step() {
    el.textContent = text.slice(0, i);
    i++;
    if (i <= text.length) {
      requestAnimationFrame(() => setTimeout(step, typeSpeed / 2));
    } else {
      el.classList.add("bobbing");
      setTimeout(done, pauseAfterType);
    }
  }
  step();
}

function eraseText(done) {
  let text = el.textContent;
  el.classList.remove("bobbing");
  function step() {
    text = text.slice(0, -1);
    el.textContent = text;
    if (text.length > 0) {
      requestAnimationFrame(() => setTimeout(step, eraseSpeed / 2));
    } else {
      setTimeout(done, pauseBeforeType);
    }
  }
  step();
}

function loop() {
  if (running) return;
  running = true;
  function next() {
    typeText(texts[idx], () => {
      eraseText(() => {
        idx = (idx + 1) % texts.length;
        next();
      });
    });
  }
  next();
}

loop();

// Inline JavaScript
window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M3YFTVKRKT');
  
// =======================
// FANCY FONT GENERATOR
// =======================

document.addEventListener("DOMContentLoaded", () => {
  const modalWrapper = document.getElementById("fancyFontModal");
  if (!modalWrapper) return;

  const overlay = document.getElementById("fancyOverlay"); // overlay absolute
  const modalContent = modalWrapper.querySelector("[role='dialog']");
  const closeBtn = document.getElementById("closeFancyFontModal");
  const fancyInput = document.getElementById("fancyInput");
  const fancyOutput = document.getElementById("fancyOutput");
  const generateBtn = document.getElementById("generateFancy");
  const copyBtn = document.getElementById("copyFancyOutput");
  const trigger = document.getElementById("fancyFontToolBtn") || document.getElementById("base64ToolBtn");
  
  if (trigger && !trigger.classList.contains("vip-feature")) {
    trigger.addEventListener("click", (ev) => {
      ev.preventDefault();
      openModal();
    });
  }

  function openModal() {
    document.body.style.overflow = "hidden";
    modalWrapper.classList.remove("hidden");
    modalWrapper.setAttribute("aria-hidden", "false");
    setTimeout(() => fancyInput && fancyInput.focus(), 50);
  }

  function closeModal() {
    document.body.style.overflow = ""; // kembalikan
    modalWrapper.classList.add("hidden");
    modalWrapper.setAttribute("aria-hidden", "true");
  }

  overlay && overlay.addEventListener("click", (e) => {
    closeModal();
  });

  closeBtn && closeBtn.addEventListener("click", (e) => {
    e.preventDefault();
    closeModal();
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && modalWrapper && !modalWrapper.classList.contains("hidden")) {
      closeModal();
    }
  });

const fancySets = {
  "Bold": {
    upper: "ð—”ð—•ð—–ð——ð—˜ð—™ð—šð—›ð—œð—ð—žð—Ÿð— ð—¡ð—¢ð—£ð—¤ð—¥ð—¦ð—§ð—¨ð—©ð—ªð—«ð—¬ð—­",
    lower: "ð—®ð—¯ð—°ð—±ð—²ð—³ð—´ð—µð—¶ð—·ð—¸ð—¹ð—ºð—»ð—¼ð—½ð—¾ð—¿ð˜€ð˜ð˜‚ð˜ƒð˜„ð˜…ð˜†ð˜‡",
    number: "ðŸ¬ðŸ­ðŸ®ðŸ¯ðŸ°ðŸ±ðŸ²ðŸ³ðŸ´ðŸµ",
    symbol: "!@#$%^&*()_+-=[]{}/<>?"
  },

  "Italic": {
    upper: "ð˜ˆð˜‰ð˜Šð˜‹ð˜Œð˜ð˜Žð˜ð˜ð˜‘ð˜’ð˜“ð˜”ð˜•ð˜–ð˜—ð˜˜ð˜™ð˜šð˜›ð˜œð˜ð˜žð˜Ÿð˜ ð˜¡",
    lower: "ð˜¢ð˜£ð˜¤ð˜¥ð˜¦ð˜§ð˜¨ð˜©ð˜ªð˜«ð˜¬ð˜­ð˜®ð˜¯ð˜°ð˜±ð˜²ð˜³ð˜´ð˜µð˜¶ð˜·ð˜¸ð˜¹ð˜ºð˜»",
    number: "0123456789",
    symbol: "!@#$%^&*()"
  },

  "Bold Italic": {
    upper: "ð˜¼ð˜½ð˜¾ð˜¿ð™€ð™ð™‚ð™ƒð™„ð™…ð™†ð™‡ð™ˆð™‰ð™Šð™‹ð™Œð™ð™Žð™ð™ð™‘ð™’ð™“ð™”ð™•",
    lower: "ð™–ð™—ð™˜ð™™ð™šð™›ð™œð™ð™žð™Ÿð™ ð™¡ð™¢ð™£ð™¤ð™¥ð™¦ð™§ð™¨ð™©ð™ªð™«ð™¬ð™­ð™®ð™¯",
    number: "ðŸ¬ðŸ­ðŸ®ðŸ¯ðŸ°ðŸ±ðŸ²ðŸ³ðŸ´ðŸµ",
    symbol: "!@#$%^&*"
  },

  "Monospace": {
    upper: "ð™°ð™±ð™²ð™³ð™´ð™µð™¶ð™·ð™¸ð™¹ð™ºð™»ð™¼ð™½ð™¾ð™¿ðš€ðšðš‚ðšƒðš„ðš…ðš†ðš‡ðšˆðš‰",
    lower: "ðšŠðš‹ðšŒðšðšŽðšðšðš‘ðš’ðš“ðš”ðš•ðš–ðš—ðš˜ðš™ðššðš›ðšœðšðšžðšŸðš ðš¡ðš¢ðš£",
    number: "ðŸ¶ðŸ·ðŸ¸ðŸ¹ðŸºðŸ»ðŸ¼ðŸ½ðŸ¾ðŸ¿",
    symbol: "!@#$%^&*()"
  },

  "Fullwidth": {
    upper: "ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼º",
    lower: "ï½ï½‚ï½ƒï½„ï½…ï½†ï½‡ï½ˆï½‰ï½Šï½‹ï½Œï½ï½Žï½ï½ï½‘ï½’ï½“ï½”ï½•ï½–ï½—ï½˜ï½™ï½š",
    number: "ï¼ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™",
    symbol: "ï¼ï¼ ï¼ƒï¼„ï¼…ï¼¾ï¼†ï¼Šï¼ˆï¼‰"
  },

  "Bubble": {
    upper: "â’¶â’·â’¸â’¹â’ºâ’»â’¼â’½â’¾â’¿â“€â“â“‚â“ƒâ“„â“…â“†â“‡â“ˆâ“‰â“Šâ“‹â“Œâ“â“Žâ“",
    lower: "â“â“‘â“’â““â“”â“•â“–â“—â“˜â“™â“šâ“›â“œâ“â“žâ“Ÿâ“ â“¡â“¢â“£â“¤â“¥â“¦â“§â“¨â“©",
    number: "â“ªâ‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨",
    symbol: "â“§â“žâ“œâ“–"
  },

  "Small Caps": {
    upper: "á´€Ê™á´„á´…á´‡êœ°É¢ÊœÉªá´Šá´‹ÊŸá´É´á´á´˜Ç«Ê€êœ±á´›á´œá´ á´¡xÊá´¢",
    lower: "á´€Ê™á´„á´…á´‡êœ°É¢ÊœÉªá´Šá´‹ÊŸá´É´á´á´˜Ç«Ê€êœ±á´›á´œá´ á´¡xÊá´¢",
    number: "0123456789",
    symbol: "*â€¢~"
  },

  "Leetspeak": {
    upper: "4BCD3FGH1JK1MN0PQR57UVWXY2",
    lower: "4bcd3fgh1jk1mn0pqr57uvwxy2",
    number: "0123456789",
    symbol: "@$!"
  },

  "Cherry âœ¦": {
    upper: "ð—›ð´ð—¥Öµð´",
    lower: "ð—µð´ð—¿Öµð´",
    number: "ðŸ¢ðŸ£ðŸ¤âœ¦",
    symbol: "ÖºâŠ‚âŠƒ Ûª âœ¦ â˜˜ï¸Ž"
  }
};

function convertToFancy(text, set) {
  const normal = {
    upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
    lower: "abcdefghijklmnopqrstuvwxyz",
    number: "0123456789",
    symbol: "!@#$%^&*()_+-=[]{}/<>?"
  };

  let result = "";

  for (const ch of text) {
    if (normal.upper.includes(ch))
      result += set.upper?.[normal.upper.indexOf(ch)] ?? ch;
    else if (normal.lower.includes(ch))
      result += set.lower?.[normal.lower.indexOf(ch)] ?? ch;
    else if (normal.number.includes(ch))
      result += set.number?.[normal.number.indexOf(ch)] ?? ch;
    else if (normal.symbol.includes(ch))
      result += set.symbol?.[normal.symbol.indexOf(ch)] ?? ch;
    else
      result += ch;
  }

  return result;
}

  generateBtn && generateBtn.addEventListener("click", (e) => {
    e.preventDefault();
    const txt = (fancyInput && fancyInput.value || "").trim();
    fancyOutput.innerHTML = "";
    if (!txt) {
      fancyOutput.innerHTML = '<p class="text-gray-500 text-xs">Masukkan teks terlebih dahulu.</p>';
      return;
    }
    for (const [name, chars] of Object.entries(fancySets)) {
      const row = document.createElement("div");
      row.className = "flex justify-between items-center bg-gray-700 bg-opacity-40 px-3 py-2 rounded mb-2";
      const converted = convertToFancy(txt, chars);
      row.innerHTML = `<span class="text-gray-200 truncate">${converted}</span><span class="text-purple-400 text-xs font-semibold ml-2">${name}</span>`;
      // klik baris -> copy single style
      row.addEventListener("click", () => {
        navigator.clipboard.writeText(converted).then(() => {
          // show quick visual feedback (temporary)
          const old = row.innerHTML;
          row.innerHTML = `<span class="text-green-300">Copied âœ“</span><span class="text-purple-400 text-xs font-semibold ml-2">${name}</span>`;
          setTimeout(() => (row.innerHTML = old), 900);
        });
      });
      fancyOutput.appendChild(row);
    }
  });
  
  copyBtn && copyBtn.addEventListener("click", async (e) => {
    e.preventDefault();
    const items = Array.from(fancyOutput.querySelectorAll("span:first-child")).map(s => s.textContent).filter(Boolean);
    if (!items.length) return;
    try {
      await navigator.clipboard.writeText(items.join("\n"));
      copyBtn.innerHTML = '<i class="fas fa-check text-green-400"></i>';
      setTimeout(() => copyBtn.innerHTML = '<i class="fas fa-copy"></i>', 1400);
    } catch (err) {
      console.error("copy error", err);
    }
  });
});

// =======================
// PAGE LOADER
// =======================

(function () {
  const loader = document.getElementById('loader');
  if (!loader) return;

  const hideLoader = () => {
    loader.style.opacity = '0';
    loader.style.pointerEvents = 'none';
    setTimeout(() => loader.remove(), 300);
  };

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', hideLoader);
  } else {
    hideLoader();
  }
})();

document.addEventListener('DOMContentLoaded', () => {
  const ads = Array.from(document.querySelectorAll('.iklanberry-banner'));
  if (!ads.length) return;

  const shown = sessionStorage.getItem('berry-ads-shown')?.split(',') || [];
  let current = ads.findIndex(ad => !shown.includes(ad.dataset.id));
  if (current === -1) return;

  function showAd(index) {
    const ad = ads[index];
    if (!ad) return;

    ad.classList.remove('hidden');

    requestAnimationFrame(() => {
      const content = ad.querySelector('.iklanberry-content');
      if (content) {
        content.classList.remove('scale-90', 'opacity-0');
      }
    });

    const closeBtn = ad.querySelector('.iklanberry-close');
    if (closeBtn) {
      const handleClick = () => {
        const content = ad.querySelector('.iklanberry-content');
        if (content) {
          content.classList.add('scale-90', 'opacity-0');
        }

        setTimeout(() => {
          ad.classList.add('hidden');
          const id = ad.dataset.id;
          if (id && !shown.includes(id)) {
            shown.push(id);
            sessionStorage.setItem('berry-ads-shown', shown.join(','));
          }
          showAd(index + 1);
          closeBtn.removeEventListener('click', handleClick);
        }, 350);
      };

      closeBtn.addEventListener('click', handleClick);
    }
  }

  showAd(current);
});

function showVipAlert() {
    const existingOverlay = document.querySelector('.vip-alert-overlay');
    if (existingOverlay) {
        existingOverlay.remove();
    }
    const overlay = document.createElement('div');
    overlay.className = 'vip-alert-overlay';
    overlay.innerHTML = `
        <div class="vip-alert-card">
            <button class="close-btn" id="closeVipAlert">&times;</button>
            <div class="alert-icon">
                <i class="fas fa-lock"></i>
            </div>
            <h2 class="alert-title">Akses Dibatasi</h2>
            <p class="alert-message">Kata sandi salah! Silahkan Join VIP Member untuk membuka seluruh fitur.</p>
            <button class="alert-button" onclick="window.location.href='https://berrymodapeka.edgeone.app/VIP">
                <i class="fas fa-crown"></i> Upgrade ke VIP
            </button>
        </div>
    `;
    document.body.appendChild(overlay);
    const closeBtn = document.getElementById('closeVipAlert');
    closeBtn.addEventListener('click', () => {
        overlay.style.animation = 'slideIn 0.3s ease-out reverse';
        setTimeout(() => {
            overlay.remove();
        }, 300);
    });
    overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
            overlay.style.animation = 'slideIn 0.3s ease-out reverse';
            setTimeout(() => {
                overlay.remove();
            }, 300);
        }
    });
}

document.addEventListener('DOMContentLoaded', () => {
  checkTrialStatus();
  updateVipUI();
  updateVipFeatures();
});

// Inline JavaScript
(() => {
  const today = new Date().toDateString();
  let state = JSON.parse(localStorage.getItem('dailyWarning') || '{}');
  if (state.date !== today) state = { date: today, count: 0 };
  if (state.count >= 2) return;

  window.addEventListener('load', () => {

    const overlay = document.createElement('div');
    overlay.innerHTML = `
<div id="warnOverlay" class="warn-danger">
  <div class="warn-box">

    <div class="warn-icon pulse">
      <i class="fa-solid fa-triangle-exclamation"></i>
    </div>

    <h2 class="warn-title"></h2>

    <div class="warn-text">
      <span class="warn-line-strong">WEBSITE INI 100% GRATIS</span><br><br>
      Jika kamu telah membeli website ini dari pihak mana pun, berarti kamu telah
      <span class="danger">Ditipu!</span>. Viralkan penipu tersebut
      berapapun nominal yang telah kamu keluarkan.<br><br>
      Jika ingin mendukung pengembangan resmi website ini,
      silakan bergabung menjadi <span class="gold">VIP</span> melalui tombol di bawah.
    </div>

    <div class="warn-timer">
      <i class="fa-regular fa-clock"></i>
      Mohon tunggu <b id="countdown">10</b> detik
    </div>

    <label class="warn-check">
      <input id="agreeBox" type="checkbox" disabled>
      Saya telah membaca dan memahami
    </label>

    <div class="warn-actions">
      <button id="closeBtn" disabled>Close</button>
      <button id="joinBtn"><i class="fa-solid fa-crown"></i> Join VIP</button>
    </div>

  </div>
</div>`;
    document.body.appendChild(overlay);

    const style = document.createElement('style');
    style.textContent = `
#warnOverlay{
  position:fixed; inset:0; z-index:1000000;
  display:flex; align-items:center; justify-content:center;
  backdrop-filter:blur(14px);
  transition:background .6s ease;
}

.warn-box{
  border-radius:22px;
  width:92%; max-width:430px;
  padding:30px 28px;
  border:1px solid rgba(255,255,255,.08);
  text-align:center;
  animation:popup .45s ease;
  transition:.6s;
}

/* ========== DANGER MODE ========== */
.warn-danger{
  background:radial-gradient(circle at top,#3b0a0a,#05070f 60%);
}
.warn-danger .warn-box{
  background:#120808;
  box-shadow:0 0 18px rgba(255,60,60,.35),0 0 60px rgba(255,0,0,.18);
}
.warn-danger .warn-title{color:#ff6b6b}
.warn-danger .warn-text{color:#ffecec}
.warn-danger .warn-timer{color:#ff9a9a}
.warn-danger .warn-icon{
  background:linear-gradient(145deg,#ff6b6b,#c53030);
  box-shadow:0 0 14px rgba(255,80,80,.5);
}
.warn-danger button{
  background:#6b1414;
  color:#fff1f1;
  box-shadow:0 0 10px rgba(255,80,80,.45);
}

/* ========== SAFE MODE ========== */
.warn-safe{
  background:radial-gradient(circle at top,#04271a,#05070f 60%);
}
.warn-safe .warn-box{
  background:#081b12;
  box-shadow:0 0 18px rgba(0,255,150,.35),0 0 60px rgba(0,255,180,.18);
}
.warn-safe .warn-title{color:#63ffb1}
.warn-safe .warn-text{color:#ecfff6}
.warn-safe .warn-timer{color:#9affd6}
.warn-safe .warn-icon{
  background:linear-gradient(145deg,#3dffb4,#00c777);
  box-shadow:0 0 14px rgba(0,255,170,.5);
}
.warn-safe button{
  background:#135a3a;
  color:#eafff5;
  box-shadow:0 0 10px rgba(100,255,180,.5);
}

/* ========== TYPOGRAPHY ========== */
.warn-title{
  font-family:var(--font-all-caps,'Orbitron');
  font-weight:700;
  font-size:1.45rem;
  letter-spacing:.12em;
  text-transform:uppercase;
  margin-bottom:14px;
}

.warn-text{
  font-family:var(--font-mixed-case,'Share Tech Mono');
  font-size:.95rem;
  letter-spacing:.03em;
  line-height:1.7;
  margin-bottom:20px;
}

.warn-line-strong{font-weight:700}

.warn-timer{
  font-family:var(--font-mixed-case,'Share Tech Mono');
  font-weight:600;
  font-size:.60rem;
  letter-spacing:.06em;
  margin-bottom:14px;
}

.warn-check{
  font-family:var(--font-mixed-case,'Share Tech Mono');
  font-size:.88rem;
  letter-spacing:.04em;
  display:flex;gap:10px;justify-content:center;
  margin-bottom:20px;
}

.warn-actions{display:flex;gap:12px}
.warn-actions button{
  flex:1;padding:12px;border-radius:999px;
  border:none;font-family:var(--font-all-caps,'Orbitron');
  font-weight:700;letter-spacing:.1em;text-transform:uppercase;
  transition:.4s;
}

.pulse{animation:pulse 1.8s infinite}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.08)}
  100%{transform:scale(1)}
}
@keyframes popup{from{transform:scale(.7);opacity:0}to{transform:scale(1);opacity:1}}
`;
    document.head.appendChild(style);

    const title = overlay.querySelector('.warn-title');
    const text = "!! WARNING !!";
    let i = 0;
    const type = setInterval(() => {
      title.textContent += text[i++];
      if (i >= text.length) clearInterval(type);
    }, 70);

    let time = 10;
    const cd = overlay.querySelector('#countdown');
    const closeBtn = overlay.querySelector('#closeBtn');
    const agree = overlay.querySelector('#agreeBox');
    const root = document.getElementById('warnOverlay');

    const timer = setInterval(() => {
      time--;
      cd.textContent = time;

      if (time <= 0) {
        clearInterval(timer);
        agree.disabled = false;
        closeBtn.disabled = false;

        const timerText = overlay.querySelector('.warn-timer');
        timerText.innerHTML = '<i class="fa-solid fa-circle-check"></i> Klik tombol Check Box lalu <b>CLOSE</b> untuk menutup';

        root.classList.remove('warn-danger');
        root.classList.add('warn-safe');
      }
    }, 1000);

    closeBtn.onclick = () => {
      if (!agree.checked) return;
      state.count++;
      localStorage.setItem('dailyWarning', JSON.stringify(state));
      overlay.remove();
    };

    overlay.querySelector('#joinBtn').onclick = () => location.href = 'VIP';
  });
})();

// Inline JavaScript
(function () {
  const params = new URLSearchParams(window.location.search);
  const keyword = params.get('panelSearch');
  if (!keyword) return;
  const input = document.getElementById('searchInput');
  if (!input) return;
  const value = decodeURIComponent(keyword);
  setTimeout(() => {
    input.value = value;
    input.dispatchEvent(new Event('input', { bubbles: true }));
    input.dispatchEvent(new KeyboardEvent('keyup', { bubbles: true }));
    input.focus();
  }, 250);
})();

